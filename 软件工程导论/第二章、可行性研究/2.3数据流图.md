# 2.3   数据流图（DFD，Data Flow Diagram）

* 定义：是一种图形化技术，它描绘信息流和数据在软件中从输入移动到输出的过程中所经受的变换。
* 在数据流图中没有任何具体的物理部件，它只是描绘数据在软件中流动和被处理的逻辑过程。
* 描述：系统中数据的形式 及对数据的操作


### 2.3.1  符号

* 基本符号

   <div align="center"><img src="./img/基本符号.png"/></div>

* 数据源点/终点：通常是人或部门，可重复表示；
* 处理：一个处理框可以代表一系列程序、单个程序或程序的一个模块； 要描述清楚进行的是什么操作。
* 数据存储：可以表示一个文件、文件的一部分、数据库的元素或记录的一部分等，数据存储是处于静止状态的数据； 
* 数据流：描绘所有可能的数据流向，而不应该描绘出现某个数据流的条件 ，数据流是处于运动中的数据。

    >eg
    
    * 下图是一个简单的DFD。它表示数据流“付款单”从外部项“客户”（源点）流出，经加工“帐务处理”转换成数据流“明细帐”，再经加工“打印帐簿”转换成数据流“帐簿”，最后流向外部项“会计”（终点），加工“打印帐簿”在进行转换时，从数据存储“总帐”中读取数据。
    
    
        <div align="center"><img src="./img/DFD.png"/></div>
 

### 2.3.2  数据流图的绘制方法

* 一、前期准备

  * 1、寻找数据   
       * 源点、终点
       * 处理
       * 数据存储
       * 数据流

  * 2、用分层的思想，以数据流动及对数据的处理描述工作过程

  * 3、构造分层DFD图的过程就是结构化的系统建模过程，其基本步骤如下：
       * （1）确定外部实体，画顶层数据流图。以项目开发计划确定的目标为基础，经过需求获取工作，可以划定系统的边界，确定系统的数据源点和终点，进而找出外部实体的输入和输出数据流，画出顶层数据流图。
       * （2）再分解顶层的加工。从数据源点出发，按照系统的逻辑需要，逐步画出一系列逻辑加工，直至数据终点。自顶向下，对每个加工进行内部分解，画出分层数据流图。
       * （3）对数据流图进一步求精。对数据流图进行复查求精，需要分析员和用户共同参与，分析员借助数据流图向用户阐述输入数据如何一步步转变为输出结果。用户对分析员的阐述予以纠正和补充，分析员在此基础上对数据流图进一步求精。

       >当进一步涉及到如何具体实现一个功能时就不再分解了

* 二、画基本系统模型

    * 由若干个数据源点/终点和一个处理组成。

        <div align="center"><img src="./img/基本系统模型.png"/></div>

    * 涉及到的处理及数据
      * 事务：零件编号  事务类型  数量
      * 订货报表：零件编号，零件名称，定货数量，目前价格，主要供应者，次要供应者


* 三、细化，描绘系统的主要功能（功能级数据流图）

     <div align="center"><img src="./img/功能级数据流图.png"/></div>

    * 涉及到的处理及数据

      * 处理
          * （1）处理事务：当有零件入库或出库时，修改库存清单主文件，并生成订货信息
          * （2）产生报表：根据订货信息，生成报表
      * 数据：
          * （1）库存清单：零件编号，零件名称  ，库存量，库存临界值，库存最大值，目前价格，主要供应者，次要供应者
          * （2）订货信息：零件编号，零件名称，库存量，临界值，库存最大值，库存临界值，目前价格，主要供应者，次要供应者

* 四、对系统主要功能进一步细化

     <div align="center"><img src="./img/对系统主要功能进一步细化.png"/></div>
   

### 2.3.3  数据流图

* 1、数据流图 ：它从数据传递和加工角度，以图形方式来表达系统的逻辑功能、数据在系统内部的逻辑流向和逻辑变换过程，是结构化系统分析方法的主要表达工具及用于表示软件模型的一种图示方法。

* 2、细化时注意
      
     * 当进一步分解涉及如何具体的实现一个功能时就不应该再分解了。
      
     * 当对数据流图分层细化时必须保持信息连续性，也就是说，当把一个处理分解为一系列处理时，分解前和分解后的输入输出数据流必须相同。
      
     * 注意对处理进行编号的方法。 


### 2.4.4  用途 

* 作为交流信息的工具
      
     * 供有关人员审查确认
      
     * 供用户理解和评价
      
     * 数据流图应该分层，超过9个时应该画分图 
* 作为分析和设计的工具
      
     * 描绘系统所完成的功能 
      
     * 辅助物理系统的设计时，以定时要求为指南，画出许多组自动化边界，对应不同的物理系统。 
      
     * 导出更详细的设计步骤——面向数据流的设计方法 
















