<h1 align="center">第十章  面向对象需求分析</h1>

* [10.1 分析概述（面向对象需求分析阶段-从业务模型到概念模型）](#101-分析概述面向对象需求分析阶段从业务模型到概念模型)
* [10.2 类图的基本符号](#102-类图的基本符号)
	* [10.2.1 类图的组成元素](#1021-类图的组成元素)
	* [10.2.2 类图中的关系](#1022-类图中的关系)


#  10.1 分析概述（面向对象需求分析阶段-从业务模型到概念模型）
* 任务：对获取的用例模型进行理解、分析，找出描述问题域和系统责任所需要的类及对象，建造概念模型。
* 概念模型：
	* 对象模型（类图，对象图）
	* 动态模型（顺序图、状态图）
* 一般情况

	<div align="center"><img src="./img/1011.png"/></div>
	* 需求分析
		* 获取需求   用例模型（即业务模型 **用例图**)
		* 分析需求
			* 对象模型：**类图**
			* 动态模型：根据需要绘制**顺序图**、**状态图**等

* eg:类图

	<div align="center"><img src="./img/1012.png"/></div>

* eg:顺序图

	<div align="center"><img src="./img/1013.png"/></div>

# 10.2 类图的基本符号
### 10.2.1 类图的组成元素
* 类、接口、关系、注释、约束、包

* １、类的表示
	* 类是具有相似结构、行为和关系的一组对象的描述符。
	* （1）类的表示
		* 类中属性和方法、访问限制

	<div align="center"><img src="./img/10211.png"/></div>

	* （2）类的命名
		* 由字符、数字、下划线组成的惟一的字符串；
		* 采用CamelCase格式（大写字母开头，混合大小写，每个单词以大写开始，避免使用特殊符号）
		* 类名的两种表示方法
			* 简单名   `Order`
			* 路径名　
			  ```
			  java::awt::Rectanget
			  businessRule::Order
			  包名::类名
			  ```
	* （3）类的职责
		* 职责指的是类所担任的任务，即类要完成什么样的功能，要承担什么样的义务。
		* 可以写在document中。
* 2、接口   
	* 接口是一组操作的集合，其中每个操作描述了类或者构件的一个服务。是模型化系统中的接缝。
	* 接口可以实现多态； 
	* 在UML中接口有两种表示方法：
		* rational画法
		* 图标表示法

			<div align="center"><img src="./img/10212.png"/></div>
     　
	* 接口：

	  ```java
	  public interface SmallIceCream {
	  	public void taste();
	  }
	
	  public class SmallBananaIceCream implements SmallIceCream {
		  public void taste() {
		  	// TODO Auto-generated method stub
		  	System.out.println("这是香蕉味冰激凌(小份)");
		  }
	  }
	  ```

* 3、关系、注释、约束

	<div align="center"><img src="./img/10213.png"/></div>

* 4、包

	<div align="center"><img src="./img/10214.png"/></div>

### 10.2.2 类图中的关系
* 类与类之间关系划分为：
	* 关联：包含普通关联、聚集（组合、聚合）等
	* 依赖：一个类调用另一个类的方法，就成这个类依赖于另一个类
	* 泛化：继承
	* 实现：继承

	<div align="center"><img src="./img/10221.png"/></div>

* 一、关联
	* 关联表示两个类的对象之间存在某种语义上的联系，长期的，稳定的。
	* 多重性：某个类的对象可以和另个类的单个对象的联系
	  
	  >举例：普通关联。
		>* 购物功能：顾客查看订单
		>* 通过订单查看顾客信息
	
		<div align="center"><img src="./img/10222.png"/></div>
	
	* 关联 ：类与类之间稳定的关系(关系需要存储）
		* 需求阶段：

		<div align="center"><img src="./img/10223.png"/></div>
		* 详细设计阶段：

		<div align="center"><img src="./img/10224.png"/></div>
		* 数据库中： 顾客、订单；订单中含顾客id 
		* 稳定的，长期的，为关联关系
		* 表现在代码实现中，一个对象会作为另一个对象的属性是关联。 
		* 关联关系也可以是单向关联，也可以是双向关联。

	-----------------------

	* 1、同类对象角色关联
	  
	  >比如记录社区中每个人婚姻状况。</br>
	  >抽取出类：</br>
	  >类的属性：</br>
		>* 身份证号</br>
		>* 年龄</br>
		>* 婚否
                          
		<div align="center"><img src="./img/10225.png"/></div>

		* 数据库：每人一条记录，记录的配偶字段为配偶身份证号。

	* 2、限定关联：利用限定词把一对多关系简化成了一对一关系。

		<div align="center"><img src="./img/10226.png"/></div>

	* 关联类：为了说明关联的性质可能需要一些附加信息。这些信息放到关联的任一方都不合适。
	* 可以引入一个关联类来记录这些信息
	* 关联类与一般的类一样，也有属性、操作和关联。

		<div align="center"><img src="./img/10227.png"/></div>
 

* 二、聚集
	* 聚集是关联的特例。聚集表示类与类之间的关系是整体与部分的关系。
	* 一般聚集：

		<div align="center"><img src="./img/10228.png"/></div>
	
	* 两种特殊的聚集关系，分别是聚合和组合。

	-------------

	* 1、聚合
		* 如果在聚集关系中处于部分方的对象可同时参与多个处于整体方对象的构成，则该聚集称为聚合。
		* 聚合的图示符号，在表示关联关系的直线末端紧挨着整体类的地方画一个空心菱形。

		<div align="center"><img src="./img/10229.png"/></div>

		* 详细设计中 ： 人的集合作为课题组的一个属性；课题组集合作为“人”类的一个属性

		  ```
		  Class 课题组{
		  	person  set persons；
		  }
		  ```

		* 数据库操作中，课题组的删除，不涉及到人员删除。



