# 2.1进程的基本概念

### 2.1.1 前趋图 

* 1、前趋图(Precedence Graph)是一个有向无循环图，记为DAG(Directed Acyclic Graph)，用于描述进程之间执行的前后关系。图中的每个结点可用于描述一个程序段或进程，乃至一条语句；
* 2、结点间的有向边则用于表示两个结点之间存在的偏序(Partial Order)或前趋关系(Precedence Relation)“→”。
* 3、Pi→Pj，称Pi是Pj的**直接前趋**，而称Pj是Pi的**直接后继**。
* 4、在前趋图中，把没有前趋的结点称为**初始结点**(Initial Node)，把没有后继的结点称为**终止结点**(Final Node)。
* 5、每个结点还具有一个重量(Weight)，用于表示该结点所含有的程序量或结点的执行时间。 

  <div align="center"><img src="./img/前趋图.png"/></div>

* 对于图 2-1(a)所示的前趋图， 存在下述前趋关系： 
   * P1→P2, P1→P3, P1→P4, P2→P5, P3→P5, P4→P6, P4→P7, P5→P8, P6→P8, P7→P9, P8→P9

   >或表示为：
   
   * P={P1, P2, P3, P4, P5, P6, P7, P8, P9}→={ (P1, P2), (P1, P3), (P1, P4), (P2, P5), (P3, P5), (P4, P6), (P4, P7),(P5, P8), (P6, P8), (P7, P9), (P8, P9)} 

   * 注意:前趋图中必须不存在循环，但在图2-1(b)中却有着下述的前趋关系：`S2→S3, S3→S2`

### 2.1.2 程序的顺序执行及其特征 

* 1、程序的顺序执行
   * 程序是人们要计算机完成的一些指令序列，是一个按严格次序顺序执行的操作序列，是一个静态的概念。
   * 程序的顺序执行：一个具有独立功能的程序独占处理机，直到最后结束的过程。

    >例如，I->C->P
    
    >S1: a∶=x+y;· S2: b∶=a-5;· S3: c∶=b+1;

  <div align="center"><img src="./img/程序的顺序执行.png"/></div>

* 2、程序顺序执行时的特征 

   * 1）顺序性
   * 2）封闭性
   * 3）可再现性

### 2.1.3 程序的并发执行及其特征 

* 1、程序的并发执行 
  * 并发性指多道程序在同一时间间隔内同时发生，为了增强计算机系统的处理能力，提高资源的利用率所采取的一种同时操作技术。
  
  <div align="center"><img src="./img/并发执行时的前趋图 .png"/></div>  
  
  <div align="center"><img src="./img/四条语句的前趋关系 .png"/></div>    
  
  
* 2、程序并发执行时的特征 
  * 间断性 
  * 失去封闭性 
  * 不可再现性 

### 2.1.4 进程的特征与状态 

* 1、进程的特征
  * 结构特征
  * 动态性 
  * 并发性 
  * 独立性 
  * 异步性 
 
* 2、进程的定义

  * (1) 进程是程序的一次执行。 
  * (2) 进程是一个程序及其数据在处理机上顺序执行时所发生的活动。 
  * (3) 进程是程序在一个数据集合上运行的过程，它是系统进行资源分配和调度的一个独 立单位。 
  * **在引入了进程实体的概念后，我们可以把传统 OS 中的进程定义为：“进程是进程实体的运行过程，是系统进行资源分配和调度的一个独立单位”。**

* 3、进程的三种基本状态 
 
  * 1)就绪(Ready)状态 
  * 2)执行状态 
  * 3)阻塞状态 

* 4、挂起状态 

  * 1)引入挂起状态的原因 

    * (1)终端用户的请求。
    * (2)父进程请求。
    * (3)负荷调节的需要。
    * (4)操作系统的需要。

  * 2)进程状态的转换 
    * (1) 活动就绪→静止就绪。
    * (2) 活动阻塞→静止阻塞。
    * (3) 静止就绪→活动就绪。
    * (4) 静止阻塞→活动阻塞。

* 5、创建状态和终止状态 

  * 1)创建状态 （创建一个进程一般要通过两个步骤：）
    * 首先，为一个新进程创建 PCB，并填写必要的管理信息；
    * 其次，把该进程转入就绪状态并插入就绪队列之中。

  * 2)终止状态
    * (1)NULL→创建：一个新进程产生时，该进程处于创建状态。 
    * (2)创建→活动就绪：在当前系统的性能和内存的容量均允许的情况下，完成对进程创 建的必要操作后，相应的系统进程将进程的状态转换为活动就绪状态。 
    * (3) 创建→静止就绪：考虑到系统当前资源状况和性能要求，并不分配给新建进程所需资源，主要是主存资源，相应的系统进程将进程状态转为静止就绪状态，对换到外存，不 再参与调度，此时进程创建工作尚未完成。 
    * (4) 执行→终止：当一个进程到达了自然结束点，或是出现了无法克服的错误，或是被操作系统所终结，或是被其他有终止权的进程所终结，进程即进终止状态。 
  
### 2.1.5 进程控制块 

* 1、进程控制块的作用 

  * PCB 中记录了操作系统所需的、用于描述进程的当前情况以及控制进程运行的全部信息。
  * **进程控制块的作用:**是使一个在多道程序环境下不能独立运行的程序(含数据)，成为一个 能独立运行的基本单位，一个能与其它进程并发执行的进程。

* 2、进程控制块中的信息 

  * 1)进程标识符
    * (1) 内部标识符。在所有的操作系统中，都为每一个进程赋予了一个惟一的数字标识符， 它通常是一个进程的序号。设置内部标识符主要是为了方便系统使用。 
    * (2) 外部标识符。它由创建者提供，通常是由字母、数字组成，往往是由用户(进程)在 访问该进程时使用。
  
  * 2)处理机状态
  * 3)进程调度信息 
  * 4)进程控制信息 

* 3、 进程控制块的组织方式

  * 1)链接方式 
  * 2)索引方式



















